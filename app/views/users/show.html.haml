.container
  .row
    .col-xs-12.col-sm-10.col-sm-offset-1.col-md-8.col-md-offset-2
      .card
        - if @native_app == false
          .card-header
            = @user.complete_name
            - if @user.follower_of?(current_user)
              .label.label-inverse
                = t('.isfollower')

        = # oculto para moviles.
        .hidden-xs
          .row
            .col-sm-4.col-md-3
              .thumbnail.mbn
                = image_tag(@user.get_picture.photo.url(:medium), :class => 'block')
            .col-sm-8.col-md-9
              .card-content
                .media
                  .pull-left
                    .media-object
                      %i.fa.fa-map-marker.card-icon.mls
                  .media-body
                    = @user.location.blank? ? raw('&nbsp;') : @user.location
              .card-content
                .media
                  .pull-left
                    .media-object
                      %i.fa.fa-star.card-icon
                  .media-body
                    = @user.web.blank? ? raw('&nbsp;') : link_to(@user.web, url_with_protocol(@user.web), :target => '_blank')
              .card-content
                .media
                  .pull-left
                    .media-object
                      %i.fa.fa-heart.card-icon
                  .media-body
                    = @user.bio.blank? ? raw('&nbsp;') : @user.bio

          #userpagetabs.row.card-footer
            .col-xs-6.col-sm-2.footer-option.btn-round-bottom-left.pan
              %a{:href => "#userevents", "data-toggle" => "pill"}
                .option-header
                  = @user.created_events.count
                .option-content
                  - if @user == current_user
                    = t('.your_events')
                  - else
                    = t('.user_events')
            .col-xs-6.col-sm-2.footer-option.pan
              %a{:href => "#userappointments", "data-toggle" => "pill"}
                .option-header
                  = @user.events.count
                .option-content
                  = t('.joined_events')
            .col-xs-6.col-sm-2.footer-option.pan
              %a{:href => "#userfollowing", "data-toggle" => "pill"}
                .option-header.following_count
                  = @user.followees_count
                .option-content
                  = t('.following')
            .col-xs-6.col-sm-2.footer-option.pan
              %a{:href => "#userfollowers", "data-toggle" => "pill"}
                .followers_count_badge.option-header
                  = @user.followers_count
                .option-content
                  = t('.followers')
            .user_action_button.col-xs-12.col-sm-2.footer-option.option-active.pull-right.btn-round-bottom-right.pan
              - if @user == current_user
                %a.option-action.btn-round-bottom-right{:href => edit_user_registration_path(@user)}
                  = t('.edit')
              - else
                - if current_user.follower_of?(@user)
                  = render 'unfollow'
                - else
                  = render 'follow'

        = #
        = # version para moviles
        = #

        #header_mvl.visible-xs
          .row
            .col-xs-12
              .row
                .col-xs-4
                  .pls.pts
                    .thumbnail.center-block
                      = image_tag(@user.get_picture.photo.url(:medium), :class => 'block')
                .col-xs-8
                  .card-content.pan
                    .media
                      .pull-left
                        .media-object
                          %i.fa.fa-map-marker.card-icon.mls
                      .media-body
                        = @user.location.blank? ? raw('&nbsp;') : @user.location
                  .card-content.pan
                    .media
                      .pull-left
                        .media-object
                          %i.fa.fa-star.card-icon
                      .media-body
                        = @user.web.blank? ? raw('&nbsp;') : link_to(@user.web, url_with_protocol(@user.web), :target => '_blank')
              .row.content-separator
              .row
                .col-xs-12
                  .card-content.pan
                    .media
                      .pull-left
                        .media-object
                          %i.fa.fa-heart.card-icon
                      .media-body
                        = @user.bio.blank? ? raw('&nbsp;') : @user.bio

          #userpagetabs_mvl.row.card-footer
            - if @native_app == false or @user != current_user
              .user_action_button.col-xs-12.footer-option.option-active.pan
                - if @user == current_user
                  %a.option-action.btn-round-bottom-right{:href => edit_user_registration_path(@user)}
                    = t('.edit')
                - else
                  - if current_user.follower_of?(@user)
                    = render 'unfollow'
                  - else
                    = render 'follow'
            .col-xs-3.footer-option.pan
              %a{:href => "#userevents", "data-toggle" => "pill"}
                .option-header
                  = @user.created_events.count
                .option-content
                  - if @user == current_user
                    = t('.your_events')
                  - else
                    = t('.user_events')
            .col-xs-3.footer-option.pan
              %a{:href => "#userappointments", "data-toggle" => "pill"}
                .option-header
                  = @user.events.count
                .option-content
                  = t('.joined_events')
            .col-xs-3.footer-option.pan
              %a{:href => "#userfollowing", "data-toggle" => "pill"}
                .option-header
                  = @user.followees_count
                .option-content
                  = t('.following')
            .col-xs-3.footer-option.btn-round-bottom-right.pan
              %a{:href => "#userfollowers", "data-toggle" => "pill"}
                .followers_count_badge.option-header
                  = @user.followers_count
                .option-content
                  = t('.followers')

        = #
        = # fin version mvl
        = #

.row
  .col-xs-12.tab-content
    #list_results
      .tab-pane{:id => "userevents", :data => {:url => events_path(:user_id => @user.id) } }
      .tab-pane{:id => "userappointments", :data => {:url => events_path(:user_id => @user.id, :appointments => true) } }
      .tab-pane{:id => "userfollowing", :data => {:url => following_user_path(@user.id) } }
      .tab-pane{:id => "userfollowers", :data => {:url => followers_user_path(@user.id)  } }

    - cardStyles = PicturesController.helpers.getCardStyles(browser.mobile?, "", 230, 300)
    - card_style = cardStyles[:card_style]
    - card_class = cardStyles[:card_class]
    - image_style = cardStyles[:image_style]

    .col-xs-12.col-sm-10.col-sm-offset-1.col-md-8.col-md-offset-2
      #list_error.alert.alert-danger.hidden.card.col-xs-6.col-xs-offset-3.col-md-4.col-md-offset-4
        %strong
          = t('error')
        #error_description
      #list_loading.alert.alert-info.hidden.col-xs-6.col-xs-offset-3.col-md-4.col-md-offset-4
        = t('loading')
      #list_no_userevents.hidden
        .card.col-md-offset-4{:style => card_style, :class => card_class}
          %a{:href => "/events/event_search"}
            .card-image-placeholder{:style => "width: 100%; height: 220px;"}
              - if @user == current_user
                %a.events_new{:href => "#"}
                  .media
                    .media.body.center-text
                      %i.fa.fa-plus-square.card-icon-big
                    .media.body.center-text
                      = t('create_event')
              - else
                %i.fa.fa-frown-o.card-icon-big
          .card-footer.card-footer-masonry.pts.pbs.plm.prm
            .media
              .media.body.center-text
                - if @user == current_user
                  = t('.current_user_no_events')
                - else
                  = t('.user_no_events')
      #list_no_userappointments.hidden
        .card.col-md-offset-4{:style => card_style, :class => card_class}
          %a{:href => "/events/event_search"}
            .card-image-placeholder{:style => "width: 100%; height: 220px;"}
              - if @user == current_user
                .media
                  .media.body.center-text
                    %i.fa.fa-compass.card-icon-big
                  .media.body.center-text
                    = t('explore_events')
              - else
                %i.fa.fa-frown-o.card-icon-big
          .card-footer.card-footer-masonry.pts.pbs.plm.prm
            .media
              .media.body.center-text
                - if @user == current_user
                  = t('.current_user_no_appoints')
                - else
                  = t('.user_no_appoints')

      #list_no_userfollowing.hidden
        .card.col-md-offset-4{:style => card_style, :class => card_class}
          %a{:href => "/events/event_search"}
            .card-image-placeholder{:style => "width: 100%; height: 220px;"}
              %i.fa.fa-group.card-icon-big
          .card-footer.card-footer-masonry.pts.pbs.plm.prm
            .media
              .media.body.center-text
                - if @user == current_user
                  = t('.current_user_no_followings')
                - else
                  = t('.user_no_followings')

      #list_no_userfollowers.hidden
        .card.col-md-offset-4{:style => card_style, :class => card_class}
          %a{:href => "/events/event_search"}
            .card-image-placeholder{:style => "width: 100%; height: 220px;"}
              %i.fa.fa-group.card-icon-big
          .card-footer.card-footer-masonry.pts.pbs.plm.prm
            .media
              .media.body.center-text
                - if @user == current_user
                  = t('.current_user_no_followers')
                - else
                  = t('.user_no_followers')


